# SESSION LOG â€” Compass Automation

_For static project rules and workflows, see:_  
ğŸ‘‰ [KEY_TAKEAWAYS.md](./KEY_TAKEAWAYS.md)

---

## ğŸ¯ Project Strategy
We run **new MVAs** through the Compass PM Work Item flow.  
- If a problem occurs â†’ **stop, debug, fix, commit**.  
- If no problem â†’ **continue feeding MVAs**.  
This ensures the automation grows stronger by solving real-world failures without premature refactoring.  

---

## ğŸ“ Maintenance Instructions
- Append under a new **dated section** (`## ğŸ“… YYYY-MM-DD`).  
- Each learning must be **comprehensive but concise** (issue â†’ fix â†’ outcome).  
- Limit bullets to **3â€“5 sentences** so they are self-contained but not verbose.  
- Do **not repeat baseline rules** â€” reference `KEY_TAKEAWAYS.md` if needed.  
- If guidance changes, add: âš ï¸ *Update: supersedes rule from <date>*.  
- Maintain chronological order; **never delete old entries**.  
- End each session with a **1â€“2 sentence summary**.  

---

## ğŸ“… Session: 2025-09-07
- **Complaint association**: Clicking complaint tile logged success but Compass didnâ€™t advance.  
  Fix â†’ added verification step to confirm the â€œNextâ€ button or dialog change.  
  Outcome â†’ logs now reflect true state transitions, not just clicks.  
- **Logs vs state**: Decoupled logging from assumptions; logs now describe observed state, not intended flow.  
  This prevents misleading â€œassociatedâ€ messages when Compass hasnâ€™t actually advanced.  
- **Context handoff**: Introduced `project_index.txt` generated by `scan_project.ps1` to map all defs/classes.  
  This prevents duplicate helpers across files and accelerates new session onboarding.  

**Summary:** Improved reliability of complaint association and made logs state-aware; added code index to maintain continuity.  

---

## ğŸ“… Session: 2025-08-18
- **Flow exit rules**: Adjusted loop logic so each MVA iteration ends with `continue` after success.  
  Outcome â†’ prevents accidental fallthrough into unintended branches.  
- **Completed PM rule**: Added a 30-day validity check for Completed PM Work Items.  
  Helpers â†’ `get_create_date_workitem()` added to extract and compare `Created At`.  
  Outcome â†’ only creates new PM when old one has expired.  
- **Nil-safe returns**: Wrapped helper calls with `or {"status":"failed", â€¦}`.  
  Outcome â†’ prevents `NoneType.get` crashes and keeps test flow robust.  

**Summary:** Standardized flow exits, introduced date-based PM rules, and hardened return handling.  

---

## ğŸ“… Session: Aug 2025
- **MVA echo mismatch**: Vehicle pane sometimes dropped leading zeros.  
  Fix â†’ normalized with `zfill(8)` and compared only last 8 digits.  
  Outcome â†’ guaranteed consistency between test and UI.  
- **Scroll issues**: Buttons existed but werenâ€™t clickable when off-screen.  
  Fix â†’ added `scrollIntoView({block:'center'})` before clicks.  
  Outcome â†’ stabilized button interactions.  
- **Complaint flo**
